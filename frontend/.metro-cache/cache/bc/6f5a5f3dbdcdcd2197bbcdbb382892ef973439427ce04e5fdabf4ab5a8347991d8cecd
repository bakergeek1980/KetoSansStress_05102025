{"dependencies":[{"name":"./schedule.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":34,"index":34}}],"key":"eh9FX8KcirTmPvx5nre1+ln6T50=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _ref;\n    }\n  });\n  var _scheduleJs = require(_dependencyMap[0], \"./schedule.js\");\n  function _ref() {\n    var on0,\n      on1,\n      that = this,\n      id = that._id,\n      size = that.size();\n    return new Promise(function (resolve, reject) {\n      var cancel = {\n          value: reject\n        },\n        end = {\n          value: function () {\n            if (--size === 0) resolve();\n          }\n        };\n      that.each(function () {\n        var schedule = (0, _scheduleJs.set)(this, id),\n          on = schedule.on;\n\n        // If this node shared a dispatch with the previous node,\n        // just assign the updated shared dispatch and weâ€™re done!\n        // Otherwise, copy-on-write.\n        if (on !== on0) {\n          on1 = (on0 = on).copy();\n          on1._.cancel.push(cancel);\n          on1._.interrupt.push(cancel);\n          on1._.end.push(end);\n        }\n        schedule.on = on1;\n      });\n\n      // The selection was empty, resolve end immediately\n      if (size === 0) resolve();\n    });\n  }\n});","lineCount":49,"map":[[7,2,3,15,"Object"],[7,8,3,15],[7,9,3,15,"defineProperty"],[7,23,3,15],[7,24,3,15,"exports"],[7,31,3,15],[8,4,3,15,"enumerable"],[8,14,3,15],[9,4,3,15,"get"],[9,7,3,15],[9,18,3,15,"get"],[9,19,3,15],[10,6,3,15],[10,13,3,15,"_ref"],[10,17,3,15],[11,4,3,15],[12,2,3,15],[13,2,1,0],[13,6,1,0,"_scheduleJs"],[13,17,1,0],[13,20,1,0,"require"],[13,27,1,0],[13,28,1,0,"_dependencyMap"],[13,42,1,0],[14,2,3,15],[14,11,3,15,"_ref"],[14,16,3,15],[14,18,3,26],[15,4,4,2],[15,8,4,6,"on0"],[15,11,4,9],[16,6,4,11,"on1"],[16,9,4,14],[17,6,4,16,"that"],[17,10,4,20],[17,13,4,23],[17,17,4,27],[18,6,4,29,"id"],[18,8,4,31],[18,11,4,34,"that"],[18,15,4,38],[18,16,4,39,"_id"],[18,19,4,42],[19,6,4,44,"size"],[19,10,4,48],[19,13,4,51,"that"],[19,17,4,55],[19,18,4,56,"size"],[19,22,4,60],[19,23,4,61],[19,24,4,62],[20,4,5,2],[20,11,5,9],[20,15,5,13,"Promise"],[20,22,5,20],[20,23,5,21],[20,33,5,30,"resolve"],[20,40,5,37],[20,42,5,39,"reject"],[20,48,5,45],[20,50,5,47],[21,6,6,4],[21,10,6,8,"cancel"],[21,16,6,14],[21,19,6,17],[22,10,6,18,"value"],[22,15,6,23],[22,17,6,25,"reject"],[23,8,6,31],[23,9,6,32],[24,8,7,8,"end"],[24,11,7,11],[24,14,7,14],[25,10,7,15,"value"],[25,15,7,20],[25,17,7,22],[25,26,7,22,"value"],[25,27,7,22],[25,29,7,33],[26,12,7,35],[26,16,7,39],[26,18,7,41,"size"],[26,22,7,45],[26,27,7,50],[26,28,7,51],[26,30,7,53,"resolve"],[26,37,7,60],[26,38,7,61],[26,39,7,62],[27,10,7,64],[28,8,7,65],[28,9,7,66],[29,6,9,4,"that"],[29,10,9,8],[29,11,9,9,"each"],[29,15,9,13],[29,16,9,14],[29,28,9,25],[30,8,10,6],[30,12,10,10,"schedule"],[30,20,10,18],[30,23,10,21],[30,27,10,21,"set"],[30,38,10,24],[30,39,10,24,"set"],[30,42,10,24],[30,44,10,25],[30,48,10,29],[30,50,10,31,"id"],[30,52,10,33],[30,53,10,34],[31,10,11,10,"on"],[31,12,11,12],[31,15,11,15,"schedule"],[31,23,11,23],[31,24,11,24,"on"],[31,26,11,26],[33,8,13,6],[34,8,14,6],[35,8,15,6],[36,8,16,6],[36,12,16,10,"on"],[36,14,16,12],[36,19,16,17,"on0"],[36,22,16,20],[36,24,16,22],[37,10,17,8,"on1"],[37,13,17,11],[37,16,17,14],[37,17,17,15,"on0"],[37,20,17,18],[37,23,17,21,"on"],[37,25,17,23],[37,27,17,25,"copy"],[37,31,17,29],[37,32,17,30],[37,33,17,31],[38,10,18,8,"on1"],[38,13,18,11],[38,14,18,12,"_"],[38,15,18,13],[38,16,18,14,"cancel"],[38,22,18,20],[38,23,18,21,"push"],[38,27,18,25],[38,28,18,26,"cancel"],[38,34,18,32],[38,35,18,33],[39,10,19,8,"on1"],[39,13,19,11],[39,14,19,12,"_"],[39,15,19,13],[39,16,19,14,"interrupt"],[39,25,19,23],[39,26,19,24,"push"],[39,30,19,28],[39,31,19,29,"cancel"],[39,37,19,35],[39,38,19,36],[40,10,20,8,"on1"],[40,13,20,11],[40,14,20,12,"_"],[40,15,20,13],[40,16,20,14,"end"],[40,19,20,17],[40,20,20,18,"push"],[40,24,20,22],[40,25,20,23,"end"],[40,28,20,26],[40,29,20,27],[41,8,21,6],[42,8,23,6,"schedule"],[42,16,23,14],[42,17,23,15,"on"],[42,19,23,17],[42,22,23,20,"on1"],[42,25,23,23],[43,6,24,4],[43,7,24,5],[43,8,24,6],[45,6,26,4],[46,6,27,4],[46,10,27,8,"size"],[46,14,27,12],[46,19,27,17],[46,20,27,18],[46,22,27,20,"resolve"],[46,29,27,27],[46,30,27,28],[46,31,27,29],[47,4,28,2],[47,5,28,3],[47,6,28,4],[48,2,29,0],[49,0,29,1],[49,3]],"functionMap":{"names":["<global>","default","Promise$argument_0","value","that.each$argument_0"],"mappings":"AAA;eCE;qBCE;sBCE,2CD;cEE;KFe;GDI;CDC"},"hasCjsExports":false},"type":"js/module"}]}